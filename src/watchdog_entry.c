/*******************************************************************************
(C) COPYRIGHT Smart Power Systems - 2020

FILE
    watchdog_entry.c

ORIGINAL AUTHOR
    Chris Goodwin

DESCRIPTION
    thread entry to handle the watchdog behaviour

REFERENCES
    None

REVIEWS
    None
*******************************************************************************/

/*=============================================================================*
 ANSI C & System-wide Header Files
*=============================================================================*/
/* None */

/*=============================================================================*
 Interface Header Files
*=============================================================================*/
/* None */

/*=============================================================================*
 Local Header File
*=============================================================================*/
#include "watchdog.h"

/*=============================================================================*
 Private Defines
*=============================================================================*/
/* None */

/*=============================================================================*
 Private Variable Definitions (static)
*=============================================================================*/
/* None */

/*=============================================================================*
 Private Function Definitions (static)
*=============================================================================*/
/* None */

/*=============================================================================*
 Private Function Implementations (Static)
*=============================================================================*/
/* None */

/*=============================================================================*
 Public Function Implementations
*=============================================================================*/
/*-------------------------------------------------------------------*

  NAME
    watchdog_entry

  DESCRIPTION
    watchdog thread function - This does nothing. Something to look at

  PARAM
    None

  RETURNS
    None

*--------------------------------------------------------------------*/
void watchdog_entry(void)
{
    /*
     * Enable the WD to work in Debug Mode
     */
    R_DBG->DBGSTOPCR_b.DSWDT = 0u;
    while (1)
    {
        /*
         * Loop sleeping
         */
        tx_thread_sleep (5);
    }
}

/*=============================================================================*
End Of File
*=============================================================================*/

